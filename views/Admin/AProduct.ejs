<div class="box-content-product">
    <h1 class="box-content-product--header">Manage Products</h1>

    <!-- Filter Form -->
    <form action="/admin/products" method="GET" class="filter-form">
        <label for="name">Name:</label>
        <input type="text" id="name" name="name" value="<%= nameFilter || '' %>">

        <label for="category">Category:</label>
        <select id="category" name="category">
            <option value="">All Categories</option>
            <% categories.forEach(category => { %>
                <option value="<%= category._id %>" <%= categoryFilter === category._id.toString() ? 'selected' : '' %>>
                    <%= category.name %>
                </option>
            <% }); %>
        </select>

        <label for="sortBy">Sort By:</label>
        <select id="sortBy" name="sortBy">
            <option value="">None</option>
            <option value="name" <%= sortBy === 'name' ? 'selected' : '' %>>Name</option>
            <option value="price" <%= sortBy === 'price' ? 'selected' : '' %>>Price</option>
            <option value="createdAt" <%= sortBy === 'createdAt' ? 'selected' : '' %>>Creation Date</option>
        </select>

        <button type="submit">Filter</button>
    </form>

    <div id="message"></div>

    <ul class="box-content-product--list">
        <% products.forEach(product => { %>
            <li class="box-content-product--item">
                <div class="box-content-product--item-name">
                    <img src="/assets/images/<%= product.image %>" width="50" height="50" alt="<%= product.name %>">
                    <a href="/admin/products/<%= product._id %>"><%= product.name %></a>
                </div>
                <span class="box-content-product--item-cost">$<%= product.price %></span>
                <span class="box-content-product--item-date"><%= product.createdAt.toLocaleDateString() %></span>
            </li>
        <% }); %>
    </ul>

    <!-- Pagination -->
    <div class="box-content-product--pagination">
        <% if (currentPage > 1) { %>
            <a href="?page=<%= currentPage - 1 %>">Previous</a>
        <% } %>
        <span>Page <%= currentPage %> of <%= totalPages %></span>
        <% if (currentPage < totalPages) { %>
            <a href="?page=<%= currentPage + 1 %>">Next</a>
        <% } %>
    </div>
</div>